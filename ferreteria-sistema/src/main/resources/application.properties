# ========================================================================
# CONFIGURACIÓN DE LA APLICACIÓN - SISTEMA FERRETERÍA
# ========================================================================

# Información de la aplicación
spring.application.name=sistema-ferreteria
spring.profiles.active=@spring.profiles.active@

# Puerto del servidor
server.port=8080
server.servlet.context-path=/ferreteria

# ========================================================================
# CONFIGURACIÓN DE BASE DE DATOS ORACLE
# ========================================================================

spring.datasource.url=jdbc:oracle:thin:@//localhost:1521/XEPDB1
spring.datasource.username=ferreteria
spring.datasource.password=123
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL

# Pool de conexiones HikariCP
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.connection-timeout=30000

# ========================================================================
# CONFIGURACIÓN JPA/HIBERNATE
# ========================================================================

# Configuración de Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# Mostrar consultas SQL en desarrollo
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Cache de segundo nivel (desactivada para evitar dependencias JCache)
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false
# spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.jcache.JCacheRegionFactory

# ========================================================================
# CONFIGURACIÓN DE THYMELEAF
# ========================================================================

# Configuración de plantillas Thymeleaf
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.mode=HTML

# ========================================================================
# CONFIGURACIÓN DE SEGURIDAD
# ========================================================================

# Configuración de sesiones
server.servlet.session.timeout=30m
server.servlet.session.cookie.name=FERRETERIA_SESSION
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.http-only=true

# ========================================================================
# CONFIGURACIÓN DE LOGGING
# ========================================================================

# Niveles de logging
logging.level.com.ferreteria.sistema=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Configuración de archivos de log
logging.file.name=logs/ferreteria-sistema.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ========================================================================
# CONFIGURACIÓN DE ACTUATOR
# ========================================================================

# Endpoints de monitoreo
management.endpoints.web.exposure.include=health,info,metrics,loggers
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# Información de la aplicación
info.app.name=Sistema de Gestión Ferretería
info.app.description=Sistema completo para gestión de ferretería
info.app.version=1.0.0
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@

# ========================================================================
# CONFIGURACIÓN DE SWAGGER/OpenAPI
# ========================================================================

# Documentación API
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.disable-swagger-default-url=true

# ========================================================================
# CONFIGURACIÓN DE JACKSON/JSON
# ========================================================================

# Formato de fechas JSON
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=America/Guayaquil
spring.jackson.serialization.indent-output=true
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# ========================================================================
# CONFIGURACIÓN DE VALIDACIÓN
# ========================================================================

# Mensajes de validación
spring.messages.basename=messages/validation
spring.messages.encoding=UTF-8
spring.messages.cache-duration=3600

# ========================================================================
# CONFIGURACIÓN DE ARCHIVOS ESTÁTICOS
# ========================================================================

# Recursos estáticos
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.period=31536000
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.content.paths=/**

# ========================================================================
# CONFIGURACIÓN DE MULTIPART (para subida de archivos)
# ========================================================================

# Configuración de subida de archivos
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=1KB

# ========================================================================
# PROPIEDADES PERSONALIZADAS DE LA APLICACIÓN
# ========================================================================

# Configuración del negocio
ferreteria.nombre=Ferretería El Martillo
ferreteria.direccion=Av. Principal 123, Ciudad
ferreteria.telefono=555-0100
ferreteria.email=info@ferreteria-elmartillo.com
ferreteria.ruc=1234567890001

# Configuración de facturación
ferreteria.facturacion.impuesto-iva=0.15
ferreteria.facturacion.numero-serie=001-001
ferreteria.facturacion.limite-facturas-dia=1000

# Configuración de inventario
ferreteria.inventario.alerta-stock-minimo=true
ferreteria.inventario.dias-revision-stock=7
ferreteria.inventario.backup-automatico=true

# Configuración de reportes
ferreteria.reportes.directorio=./reportes/
ferreteria.reportes.formato-fecha=dd/MM/yyyy
ferreteria.reportes.moneda=USD

# ========================================================================
# CONFIGURACIÓN DE DESARROLLO
# ========================================================================

# Solo para desarrollo - mostrar información detallada
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.h2.console.enabled=false

# ========================================================================
# CONFIGURACIÓN DE PRODUCCIÓN (para profiles específicos)
# ========================================================================

# Estas configuraciones se sobrescriben en application-prod.properties

